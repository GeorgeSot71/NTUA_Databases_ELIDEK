.include "m16def.inc"
.def temp = r16
.def A = r17
.def B = r18
.def C = r19
.def D = r20
.def F0 = r21
.def F1 = r22

reset:
	ldi r24, low(RAMEND) ;initialization Stack Pointer
	out SPL, r24
	ldi r24, high(RAMEND)
	out SPH, r24

start:
	clr temp
	out DDRB, temp ;setting port B as input
	ser temp 
	out PORTB, temp ;setting pull up resistors
	out DDRA, temp ;settig port A as output

main:
	clr F0
	in temp, PINB
	mov A, temp
	lsr temp
	mov B, temp
	lsr temp 
	mov C, temp
	lsr temp
	mov D, temp
	and A,B
	and A,C
	com B
	com C
	com D
	and B,C
	and B,D
	or A,B
	andi A, 0x01
	mov F0, A

	clr F1
	in temp, PINB
	mov A, temp
	lsr temp
	mov B, temp
	lsr temp 
	mov C, temp
	lsr temp
	mov D, temp
	or A,B
	or A,C
	and A, D
	andi A, 0x01
	mov F1, A

	lsl F1
	or F1,F0
	out PORTA, F1